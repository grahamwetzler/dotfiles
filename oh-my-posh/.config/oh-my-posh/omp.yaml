# yaml-language-server: $schema=https://raw.githubusercontent.com/JanDeDobbeleer/oh-my-posh/main/themes/schema.json

version: 2
final_space: true
palette:
  background: "#282a36"
  current_line: "#44475a"
  foreground: "#f8f8f2"
  comment: "#6272a4"
  cyan: "#8be9fd"
  green: "#50fa7b"
  orange: "#ffb86c"
  pink: "#ff79c6"
  purple: "#bd93f9"
  red: "#ff5555"
  yellow: "#f1fa8c"
blocks:
  - type: prompt
    alignment: left
    segments:
      - type: session
        style: plain
        foreground: p:purple
        template: >
          {{ if .SSHSession }} {{ .UserName }}@{{ .HostName }}{{ end }}
          {{ if ne .UserName "graham" }}{{ .UserName }}{{ end }}
      - type: path
        style: plain
        foreground: p:green
        template: "{{ .Path }}"
        properties:
          style: full
      - type: git
        style: plain
        foreground: p:yellow
        template: " {{ .HEAD }}"
      # - type: status
      #   style: powerline
      #   powerline_symbol: 
      #   background: p:red
      #   foreground: p:foreground
      #   properties:
      #     always_enabled: true
      #     status_template: >
      #       {{ if ne .Code 0 }}{{ .Code }}{{ else }}{{ end }}
      #   # background_templates:
      #   #   - "{{ if .Code ne 0 }}p:red{{ else }}p:green{{ end }}"
      #   template: >
      #     {{ if ne .Code 0 }}{{ .Code }}{{ else }} {{ end }}
      - type: shell
        style: plain
        foreground: p:cyan
        template: " {{ if ne .Name \"zsh\"}}{{ .Name }}{{ end }}"
      - type: text
        style: plain
        foreground: p:comment
        template: " ❯"
  - type: rprompt
    alignment: right
    segments:
      - type: python
        style: plain
        fetch_virtual_env: true
        display_mode: files
        foreground: p:green
        template: "  {{ if .Error }}{{ .Error }}{{ else }}{{ if .Venv }}{{ .Venv }} {{ end }}{{ end }}"

tooltips:
  - type: git
    tips:
      - git
      - g
    style: diamond
    foreground: "#193549"
    background: "#fffb38"
    leading_diamond: 
    trailing_diamond: 
    template: "{{ .HEAD }}{{ if .Staging.Changed }}  {{ .Staging.String }}{{ end
      }}{{ if and (.Working.Changed) (.Staging.Changed) }} |{{ end }}{{ if
      .Working.Changed }}  {{ .Working.String }}{{ end }}"
    properties:
      fetch_status: true
      fetch_upstream_icon: true
